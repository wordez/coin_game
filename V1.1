def coin_game():
    
    import random
    from IPython.display import clear_output
    state = 0   
    
    while state == 0:
        heads_times = 0
        tails_times = 0
        answer = ''
        choice = "heads", "tails"
        b = 'wrong'
        
        while answer.lower() not in choice:
            answer = input("Heads or Tails? ")
            
    
            if answer.lower() not in choice:
                clear_output()
                print("Sorry, try again. Heads or Tails?")
        
        while b.isdigit() == False:
        
            b = input("how many times do you want to play? ")
            
            if b.isdigit() == False:
                
                clear_output()
                
                print("Sorry, but you did not enter an integer. Please try again.")
                
        z = int(b)
        
        clear_output()
            
        for x in range(0, z):
            x = random.randrange(0,10)
    
            if x < 5:
                heads_times = heads_times + 1
            else: 
                tails_times = tails_times + 1
        
        print(f'You chose {answer}')
        print(f'Heads won {heads_times} times')
        print(f'Tails won {tails_times} times')

        if answer.lower() == 'heads' and heads_times > tails_times:
            print("YOU WIN!!!")
        elif answer.lower() == 'tails' and tails_times > heads_times:
            print("YOU WIN!!!")
        elif tails_times == heads_times:
            print('DRAW! YOU GOT LUCKY, KID!')
        else:
            print("YOU LOSE, SUCKER!")
    
        again = ''
        response = 'yes', 'no'
        
        while again not in response:
            again = input('Do you want to play again: ')
            
            if again.lower() == 'no':
                print("Thanks for playing Bud!")
                state = state + 1
            elif again.lower() not in response:
                clear_output()
                print("Try again, do you want to play again, yes or no?")
            elif again.lower() == 'yes':
                clear_output()
                pass
        



